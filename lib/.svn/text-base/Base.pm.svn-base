#!/usr/bin/perl
package World::Base;
use strict;
use warnings;

use Exporter   ();
our ($VERSION, @ISA, @EXPORT);
$VERSION = "1.00";

@ISA = qw(Exporter);
@EXPORT = qw(&alterState &showDescription);

sub new {
    my ($class, %args) = @_;
    my $self = {};
    foreach my $key (keys %args) {
        $self -> {$key} = $args{$key} || "";
    }
    bless $self, $class;
}

sub alterState {
    my ($self, $state) = @_;
    my @array = @{$self -> {stateDescriptions}};
    ($self -> {itemState}) = grep $array[$_] eq $state, 0 .. $#array;
    return $self -> {itemState};
}

sub showDescription {
    my $self = shift;
    return $self -> {description} -> {immutable}.
            $self -> {description} -> {mutable}.
            @{$self -> {stateDescriptions}}[$self -> {itemState}];
}
1;
